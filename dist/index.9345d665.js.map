{"mappings":"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","sources":["js/index.js"],"sourcesContent":["console.log('JavaScript file loaded correctly')\n\n//* Global Variables down below\nconst itemsPerPage = 12;\nlet currentPage = 1;\n\nconst apiUrl = \"https://api.themoviedb.org/3?\"\nconst exploringEndpoint = \"discover/movie\"\nconst apiKey = \"3cb0d2bc09efade109b0b6a67290e815\"\n\nlet movieArray = [];\n\nlet objectManipulationArray = [];\n\nlet spotlightArray = [];\n\nlet movieWatchListArray = [];\n\nconst movieObject = {\n    movieObjectId: undefined,\n    movieObjectTitle: \"\",\n    movieObjectOverview: \"\",\n    movieObjectImg: undefined,\n    movieObjectRelease: \"\"\n}\n\n//*---------------\n\n//*   DOM Creation\nconst spotlightSection = document.getElementById(\"spotlightSection\");\n\nconst watchListContainer = document.getElementsByClassName(\"watchListContainer\");\n\n//*---------------\n//!\nmovieApiFetch()\nasync function movieApiFetch() {\n    console.log(\"fetching data from OMDB API\")\n    try {\n        const response = await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&include_adult=false&include_video=false&language=en-US&page=${currentPage}&sort_by=popularity.desc`)\n\n        if(!response.ok){\n            errorMessage(response)\n            return;\n        }\n        \n        const movieData = await response.json();\n        \n        movieArray = movieData.results;\n        movieArray.forEach(movie => {\n            objectCreation(movie)\n        })\n        console.log(\"movieArray\", movieArray)\n\n        spotlightArray = movieArray.slice(0, 10)\n        console.log(\"spotlightArray\", spotlightArray)\n        spotlightArray.forEach(movie => {\n            createMovieObject(movie)\n        });\n    \n    } catch (err) {\n        \n        console.error(\"Error fetching data:\", err.message)\n        errorMessage()\n\n    }\n}\n// async function spotlightMovieFetch() {\n//     try {\n//         const response = await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&include_adult=false&include_video=false&language=en-US&page=1&sort_by=popularity.desc`)\n\n//         if(!response.ok){\n//             errorMessage(response)\n//             return;\n//         }\n        \n//         const movieData = await response.json();\n//         console.log(movieData)\n        \n//         movieArray = movieData.result;\n//         console.log(movieArray.length)\n//         // for (let index = 0; index < 10; index++) {\n//         //     createSpotlightObject(movieData.result)\n            \n//         // }\n//     } catch (err) {\n        \n//         console.error(\"Error fetching data:\", err.message)\n//         errorMessage()\n\n//     }\n// }   \n\nfunction createMovieObject(movie){\n    const movieContainer = document.createElement(\"article\")\n    movieContainer.setAttribute(\"class\", \"movieContainer\")\n    //TODO FIX SO THE FUNCTION CAN PLACE THE ARTICLES IN DIFFERENT NODES\n    spotlightSection.appendChild(movieContainer)\n\n\n    //* original_title\n    const movieTitle = document.createElement(\"h4\")\n    movieTitle.textContent = movie.original_title\n    movieTitle.setAttribute(\"class\", \"movieTitle\")\n    movieContainer.appendChild(movieTitle)\n\n    //* Save to localStorage button\n    const watchlistButton = document.createElement(\"button\")\n    watchlistButton.setAttribute(\"class\", \"watchlistButton\")\n    watchlistButton.textContent = \"Add to Watchlist\"\n    movieContainer.appendChild(watchlistButton)\n\n    //* backdrop_path \n    const movieImg = document.createElement(\"img\") \n    movieImg.setAttribute(\"src\", `https://image.tmdb.org/t/p/w500${movie.poster_path}`)\n    movieImg.setAttribute(\"alt\", movie.original_title)\n    movieImg.setAttribute(\"class\", \"movieImg\")\n    movieContainer.appendChild(movieImg)\n    \n    //* overview\n    const moviePlot = document.createElement(\"p\")\n    moviePlot.textContent = movie.overview\n    moviePlot.setAttribute(\"class\", \"moviePlot\")\n    movieContainer.appendChild(moviePlot)\n    \n    //* release_date\n    const movieRelease = document.createElement(\"p\")\n    movieRelease.textContent = movie.release_date;\n    movieRelease.setAttribute(\"class\", \"movieRelease\")\n    movieContainer.appendChild(movieRelease)\n    \n\n}\nfunction createWatchlistObject(movie){\n    const movieContainer = document.createElement(\"article\")\n    movieContainer.setAttribute(\"class\", \"movieContainer\")\n    //TODO FIX SO THE FUNCTION CAN PLACE THE ARTICLES IN DIFFERENT NODES\n    spotlightSection.appendChild(movieContainer)\n\n\n    //* original_title\n    const movieTitle = document.createElement(\"h4\")\n    movieTitle.textContent = movie.original_title\n    movieTitle.setAttribute(\"class\", \"movieTitle\")\n    movieContainer.appendChild(movieTitle)\n\n    //* Save to localStorage button\n    const watchlistButton = document.createElement(\"button\")\n    watchlistButton.setAttribute(\"class\", \"watchlistButton\")\n    watchlistButton.textContent = \"Add to Watchlist\"\n    movieContainer.appendChild(watchlistButton)\n\n    //* backdrop_path \n    const movieImg = document.createElement(\"img\") \n    movieImg.setAttribute(\"src\", `https://image.tmdb.org/t/p/w500${movie.poster_path}`)\n    movieImg.setAttribute(\"alt\", movie.original_title)\n    movieImg.setAttribute(\"class\", \"movieImg\")\n    movieContainer.appendChild(movieImg)\n    \n    //* overview\n    const moviePlot = document.createElement(\"p\")\n    moviePlot.textContent = movie.overview\n    moviePlot.setAttribute(\"class\", \"moviePlot\")\n    movieContainer.appendChild(moviePlot)\n    \n    //* release_date\n    const movieRelease = document.createElement(\"p\")\n    movieRelease.textContent = movie.release_date;\n    movieRelease.setAttribute(\"class\", \"movieRelease\")\n    movieContainer.appendChild(movieRelease)\n    \n\n}\n\n//TODO Function that can save Movies to your watch list by stringifying it to localStorage, and on WindowLoaded should then decypher the data and create DOM elements in the WatchListContainer\nspotlightSection.addEventListener(\"click\", function (event){\n    if (event.target.classList.contains('watchlistButton')) {\n        event.preventDefault()\n        console.log(\"WatchlistButton pressed just now\")\n        // Chooses the elements closest to the watchlistButton that was pressed.\n        const movieContainer = event.target.closest('.movieContainer');\n        const movieTitle = movieContainer.querySelector('.movieTitle').textContent;\n        const movieOverview = movieContainer.querySelector('.moviePlot').textContent;\n        const movieRelease = movieContainer.querySelector('.movieRelease').textContent;\n        const movieImg = movieContainer.querySelector('.movieImg').src;\n\n        // Create a movie object to stringify to JSON\n        const movieLocalData = {\n            movieTitle: movieTitle,\n            movieOverview: movieOverview,\n            movieRelease: movieRelease,\n            movieImg: movieImg        \n        }\n        localStorageAddition(movieLocalData)\n    }   \n})\n\n\n\n\n\nasync function errorMessage() {\n    // switch (status.value) {\n    //     case False:\n            //?Ska innehÃ¥lla response false\n    //         break;\n    \n    //     default:\n    //         break;\n    // }\n}\nfunction objectCreation(movie){\n    const generalMovieObject = Object.create(movieObject)\n    generalMovieObject.movieObjectId = movie.id\n    generalMovieObject.movieObjectTitle = movie.original_title\n    generalMovieObject.movieObjectOverview = movie.overview\n    generalMovieObject.movieObjectImg = movie.poster_path\n    generalMovieObject.movieObjectRelease = movie.release_date\n\n    objectManipulationArray.push(generalMovieObject)\n    \n\n}\n// console.log(\"objectManipulationArray\", objectManipulationArray)\n\nfunction localStorageAddition(movieLocalData){\n    const watchlistedMovie = Object.create(movieObject);\n\n    watchlistedMovie.movieObjectTitle = movieLocalData.movieTitle\n    watchlistedMovie.movieObjectOverview = movieLocalData.movieOverview\n    watchlistedMovie.movieObjectImg = movieLocalData.movieImg\n    watchlistedMovie.movieObjectRelease = movieLocalData.movieRelease\n\n    const uniqueKey = `${watchlistedMovie.movieObjectTitle}-${watchlistedMovie.movieObjectRelease}`\n    localStorage.setItem(uniqueKey, JSON.stringify(watchlistedMovie))\n    console.log(\"Item succesfully put in localStorage\")\n    displayWatchlist()\n    \n}\n\nfunction displayWatchlist(){\n    console.log(\"Watchlist function called\")\n    if (localStorage.length >= 0) {\n\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            const movie = JSON.parse(localStorage.getItem(key));\n            console.log(\"WatchlistedMovie\", movie)\n            createWatchlistObject(movie)\n        }\n    }\n}\n"],"names":[],"version":3,"file":"index.9345d665.js.map","sourceRoot":"/__parcel_source_root/"}